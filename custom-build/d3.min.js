!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.d3=n.d3||{})}(this,function(n){"use strict";function t(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),yr.hasOwnProperty(t)?{space:yr[t],local:n}:n}function e(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===dr&&t.documentElement.namespaceURI===dr?t.createElement(n):t.createElementNS(e,n)}}function r(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function i(n){var i=t(n);return(i.local?r:e)(i)}function o(n,t,e){return n=u(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function u(t,e,r){return function(i){var o=n.event;n.event=i;try{t.call(this,this.__data__,e,r)}finally{n.event=o}}}function c(n){return n.trim().split(/^|\s+/).map(function(n){var t="",e=n.indexOf(".");return e>=0&&(t=n.slice(e+1),n=n.slice(0,e)),{type:n,name:t}})}function a(n){return function(){var t=this.__on;if(t){for(var e,r=0,i=-1,o=t.length;r<o;++r)e=t[r],n.type&&e.type!==n.type||e.name!==n.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function l(n,t,e){var r=wr.hasOwnProperty(n.type)?o:u;return function(i,o,u){var c,a=this.__on,l=r(t,o,u);if(a)for(var f=0,s=a.length;f<s;++f)if((c=a[f]).type===n.type&&c.name===n.name)return this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=l,c.capture=e),void(c.value=t);this.addEventListener(n.type,l,e),c={type:n.type,name:n.name,value:t,listener:l,capture:e},a?a.push(c):this.__on=[c]}}function f(n,t,e){var r,i,o=c(n+""),u=o.length;{if(!(arguments.length<2)){for(f=t?l:a,null==e&&(e=!1),r=0;r<u;++r)this.each(f(o[r],t,e));return this}var f=this.node().__on;if(f)for(var s,p=0,h=f.length;p<h;++p)for(r=0,s=f[p];r<u;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value}}function s(n){return function(){return this.querySelector(n)}}function p(n){"function"!=typeof n&&(n=s(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var o,u,c=t[i],a=c.length,l=r[i]=new Array(a),f=0;f<a;++f)(o=c[f])&&(u=n.call(o,o.__data__,f,c))&&("__data__"in o&&(u.__data__=o.__data__),l[f]=u);return new Pn(r,this._parents)}function h(n){return function(){return this.querySelectorAll(n)}}function v(n){"function"!=typeof n&&(n=h(n));for(var t=this._groups,e=t.length,r=[],i=[],o=0;o<e;++o)for(var u,c=t[o],a=c.length,l=0;l<a;++l)(u=c[l])&&(r.push(n.call(u,u.__data__,l,c)),i.push(u));return new Pn(r,i)}function g(n){"function"!=typeof n&&(n=Sr(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var o,u=t[i],c=u.length,a=r[i]=new Array(c),l=0;l<c;++l)(o=u[l])&&n.call(o,o.__data__,l,u)&&(a[l]=o);return new Pn(r,this._parents)}function d(n){return function(){return n}}function y(n,t,e,r,i,o){for(var u,c=0,a=t.length,l=o.length;c<l;++c)(u=t[c])?(u.__data__=o[c],r[c]=u):e[c]=new E(n,o[c]);for(;c<a;++c)(u=t[c])&&(i[c]=u)}function _(n,t,e,r,i,o,u){var c,a,l,f={},s=t.length,p=o.length,h=new Array(s);for(c=0;c<s;++c)(a=t[c])&&(h[c]=l=Mr+u.call(a,a.__data__,c,t),l in f?i[c]=a:f[l]=a);for(c=0;c<p;++c)l=Mr+u.call(n,o[c],c,o),(a=f[l])?(r[c]=a,a.__data__=o[c],f[l]=null):e[c]=new E(n,o[c]);for(c=0;c<s;++c)(a=t[c])&&f[h[c]]===a&&(i[c]=a)}function m(n,t){if(!n)return h=new Array(this.size()),l=-1,this.each(function(n){h[++l]=n}),h;var e=t?_:y,r=this._parents,i=this._groups;"function"!=typeof n&&(n=d(n));for(var o=i.length,u=new Array(o),c=new Array(o),a=new Array(o),l=0;l<o;++l){var f=r[l],s=i[l],p=s.length,h=n.call(f,f&&f.__data__,l,r),v=h.length,g=c[l]=new Array(v),m=u[l]=new Array(v),E=a[l]=new Array(p);e(f,s,g,m,E,h,t);for(var S,w,x=0,M=0;x<v;++x)if(S=g[x]){for(x>=M&&(M=x+1);!(w=m[M])&&++M<v;);S._next=w||null}}return u=new Pn(u,r),u._enter=c,u._exit=a,u}function E(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function S(n){return new Array(n.length)}function w(){return new Pn(this._enter||this._groups.map(S),this._parents)}function x(){return new Pn(this._exit||this._groups.map(S),this._parents)}function M(n){for(var t=this._groups,e=n._groups,r=t.length,i=e.length,o=Math.min(r,i),u=new Array(r),c=0;c<o;++c)for(var a,l=t[c],f=e[c],s=l.length,p=u[c]=new Array(s),h=0;h<s;++h)(a=l[h]||f[h])&&(p[h]=a);for(;c<r;++c)u[c]=t[c];return new Pn(u,this._parents)}function A(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var r,i=n[t],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this}function N(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=b);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,c=e[o],a=c.length,l=i[o]=new Array(a),f=0;f<a;++f)(u=c[f])&&(l[f]=u);l.sort(t)}return new Pn(i,this._parents).order()}function b(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function C(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function P(){var n=new Array(this.size()),t=-1;return this.each(function(){n[++t]=this}),n}function R(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null}function q(){var n=0;return this.each(function(){++n}),n}function j(){return!this.node()}function L(n){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i,o=t[e],u=0,c=o.length;u<c;++u)(i=o[u])&&n.call(i,i.__data__,u,o);return this}function z(n){return function(){this.removeAttribute(n)}}function O(n){return function(){this.removeAttributeNS(n.space,n.local)}}function T(n,t){return function(){this.setAttribute(n,t)}}function D(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function k(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function B(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function I(n,e){var r=t(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==e?r.local?O:z:"function"==typeof e?r.local?B:k:r.local?D:T)(r,e))}function U(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function G(n){return function(){this.style.removeProperty(n)}}function H(n,t,e){return function(){this.style.setProperty(n,t,e)}}function V(n,t,e){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}}function F(n,t,e){var r;return arguments.length>1?this.each((null==t?G:"function"==typeof t?V:H)(n,t,null==e?"":e)):U(r=this.node()).getComputedStyle(r,null).getPropertyValue(n)}function X(n){return function(){delete this[n]}}function Z(n,t){return function(){this[n]=t}}function $(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function J(n,t){return arguments.length>1?this.each((null==t?X:"function"==typeof t?$:Z)(n,t)):this.node()[n]}function K(n){return n.trim().split(/^|\s+/)}function Q(n){return n.classList||new W(n)}function W(n){this._node=n,this._names=K(n.getAttribute("class")||"")}function Y(n,t){for(var e=Q(n),r=-1,i=t.length;++r<i;)e.add(t[r])}function nn(n,t){for(var e=Q(n),r=-1,i=t.length;++r<i;)e.remove(t[r])}function tn(n){return function(){Y(this,n)}}function en(n){return function(){nn(this,n)}}function rn(n,t){return function(){(t.apply(this,arguments)?Y:nn)(this,n)}}function on(n,t){var e=K(n+"");if(arguments.length<2){for(var r=Q(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof t?rn:t?tn:en)(e,t))}function un(){this.textContent=""}function cn(n){return function(){this.textContent=n}}function an(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}function ln(n){return arguments.length?this.each(null==n?un:("function"==typeof n?an:cn)(n)):this.node().textContent}function fn(){this.innerHTML=""}function sn(n){return function(){this.innerHTML=n}}function pn(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function hn(n){return arguments.length?this.each(null==n?fn:("function"==typeof n?pn:sn)(n)):this.node().innerHTML}function vn(){this.nextSibling&&this.parentNode.appendChild(this)}function gn(){return this.each(vn)}function dn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yn(){return this.each(dn)}function _n(n){return function(){return this.appendChild(n.apply(this,arguments))}}function mn(n,t){return function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)}}function En(){return null}function Sn(n,t){var e="function"==typeof n?n:i(n);return this.select(arguments.length<2?_n(e):mn(e,null==t?En:"function"==typeof t?t:s(t)))}function wn(){var n=this.parentNode;n&&n.removeChild(this)}function xn(){return this.each(wn)}function Mn(n){return arguments.length?this.property("__data__",n):this.node().__data__}function An(n,t,e){var r=U(n),i=r.CustomEvent;i?i=new i(t,e):(i=r.document.createEvent("Event"),e?(i.initEvent(t,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(t,!1,!1)),n.dispatchEvent(i)}function Nn(n,t){return function(){return An(this,n,t)}}function bn(n,t){return function(){return An(this,n,t.apply(this,arguments))}}function Cn(n,t){return this.each(("function"==typeof t?bn:Nn)(n,t))}function Pn(n,t){this._groups=n,this._parents=t}function Rn(){return new Pn([[document.documentElement]],Ar)}function qn(n){return"string"==typeof n?new Pn([[document.querySelector(n)]],[document.documentElement]):new Pn([[n]],Ar)}function jn(n){return"string"==typeof n?new Pn([document.querySelectorAll(n)],[document.documentElement]):new Pn([n],Ar)}function Ln(){return new zn}function zn(){this.reset()}function On(n,t,e){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function Tn(n){return n>1?0:n<-1?ui:Math.acos(n)}function Dn(n){return n>1?ci:n<-1?-ci:Math.asin(n)}function kn(n){return(n=Ei(n/2))*n}function Bn(){}function In(n,t){n&&Ai.hasOwnProperty(n.type)&&Ai[n.type](n,t)}function Un(n,t,e){var r,i=-1,o=n.length-e;for(t.lineStart();++i<o;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Gn(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)Un(n[e],t,1);t.polygonEnd()}function Hn(n,t){n&&Mi.hasOwnProperty(n.type)?Mi[n.type](n,t):In(n,t)}function Vn(){Ci.point=Xn}function Fn(){Zn(Nr,br)}function Xn(n,t){Ci.point=Zn,Nr=n,br=t,n*=si,t*=si,Cr=n,Pr=gi(t=t/2+ai),Rr=Ei(t)}function Zn(n,t){n*=si,t*=si,t=t/2+ai;var e=n-Cr,r=e>=0?1:-1,i=r*e,o=gi(t),u=Ei(t),c=Rr*u,a=Pr*o+c*gi(i),l=c*r*Ei(i);Ni.add(vi(l,a)),Cr=n,Pr=o,Rr=u}function $n(n){return bi.reset(),Hn(n,Ci),2*bi}function Jn(n){return[vi(n[1],n[0]),Dn(n[2])]}function Kn(n){var t=n[0],e=n[1],r=gi(e);return[r*gi(t),r*Ei(t),Ei(e)]}function Qn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Wn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Yn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function nt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function tt(n){var t=wi(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function et(n,t){Br.push(Ir=[qr=n,Lr=n]),t<jr&&(jr=t),t>zr&&(zr=t)}function rt(n,t){var e=Kn([n*si,t*si]);if(kr){var r=Wn(kr,e),i=[r[1],-r[0],0],o=Wn(i,r);tt(o),o=Jn(o);var u,c=n-Or,a=c>0?1:-1,l=o[0]*fi*a,f=pi(c)>180;f^(a*Or<l&&l<a*n)?(u=o[1]*fi,u>zr&&(zr=u)):(l=(l+360)%360-180,f^(a*Or<l&&l<a*n)?(u=-o[1]*fi,u<jr&&(jr=u)):(t<jr&&(jr=t),t>zr&&(zr=t))),f?n<Or?lt(qr,n)>lt(qr,Lr)&&(Lr=n):lt(n,Lr)>lt(qr,Lr)&&(qr=n):Lr>=qr?(n<qr&&(qr=n),n>Lr&&(Lr=n)):n>Or?lt(qr,n)>lt(qr,Lr)&&(Lr=n):lt(n,Lr)>lt(qr,Lr)&&(qr=n)}else et(n,t);kr=e,Or=n}function it(){Ri.point=rt}function ot(){Ir[0]=qr,Ir[1]=Lr,Ri.point=et,kr=null}function ut(n,t){if(kr){var e=n-Or;Pi.add(pi(e)>180?e+(e>0?360:-360):e)}else Tr=n,Dr=t;Ci.point(n,t),rt(n,t)}function ct(){Ci.lineStart()}function at(){ut(Tr,Dr),Ci.lineEnd(),pi(Pi)>ii&&(qr=-(Lr=180)),Ir[0]=qr,Ir[1]=Lr,kr=null}function lt(n,t){return(t-=n)<0?t+360:t}function ft(n,t){return n[0]-t[0]}function st(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function pt(n){var t,e,r,i,o,u,c;if(zr=Lr=-(qr=jr=1/0),Br=[],Hn(n,Ri),e=Br.length){for(Br.sort(ft),t=1,r=Br[0],o=[r];t<e;++t)i=Br[t],st(r,i[0])||st(r,i[1])?(lt(r[0],i[1])>lt(r[0],r[1])&&(r[1]=i[1]),lt(i[0],r[1])>lt(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-(1/0),e=o.length-1,t=0,r=o[e];t<=e;r=i,++t)i=o[t],(c=lt(r[1],i[0]))>u&&(u=c,qr=i[0],Lr=r[1])}return Br=Ir=null,qr===1/0||jr===1/0?[[NaN,NaN],[NaN,NaN]]:[[qr,jr],[Lr,zr]]}function ht(n,t){n*=si,t*=si;var e=gi(t);vt(e*gi(n),e*Ei(n),Ei(t))}function vt(n,t,e){++Ur,Hr+=(n-Hr)/Ur,Vr+=(t-Vr)/Ur,Fr+=(e-Fr)/Ur}function gt(){qi.point=dt}function dt(n,t){n*=si,t*=si;var e=gi(t);ni=e*gi(n),ti=e*Ei(n),ei=Ei(t),qi.point=yt,vt(ni,ti,ei)}function yt(n,t){n*=si,t*=si;var e=gi(t),r=e*gi(n),i=e*Ei(n),o=Ei(t),u=vi(wi((u=ti*o-ei*i)*u+(u=ei*r-ni*o)*u+(u=ni*i-ti*r)*u),ni*r+ti*i+ei*o);Gr+=u,Xr+=u*(ni+(ni=r)),Zr+=u*(ti+(ti=i)),$r+=u*(ei+(ei=o)),vt(ni,ti,ei)}function _t(){qi.point=ht}function mt(){qi.point=St}function Et(){wt(Wr,Yr),qi.point=ht}function St(n,t){Wr=n,Yr=t,n*=si,t*=si,qi.point=wt;var e=gi(t);ni=e*gi(n),ti=e*Ei(n),ei=Ei(t),vt(ni,ti,ei)}function wt(n,t){n*=si,t*=si;var e=gi(t),r=e*gi(n),i=e*Ei(n),o=Ei(t),u=ti*o-ei*i,c=ei*r-ni*o,a=ni*i-ti*r,l=wi(u*u+c*c+a*a),f=ni*r+ti*i+ei*o,s=l&&-Tn(f)/l,p=vi(l,f);Jr+=s*u,Kr+=s*c,Qr+=s*a,Gr+=p,Xr+=p*(ni+(ni=r)),Zr+=p*(ti+(ti=i)),$r+=p*(ei+(ei=o)),vt(ni,ti,ei)}function xt(n){Ur=Gr=Hr=Vr=Fr=Xr=Zr=$r=Jr=Kr=Qr=0,Hn(n,qi);var t=Jr,e=Kr,r=Qr,i=t*t+e*e+r*r;return i<oi&&(t=Xr,e=Zr,r=$r,Gr<ii&&(t=Hr,e=Vr,r=Fr),i=t*t+e*e+r*r,i<oi)?[NaN,NaN]:[vi(e,t)*fi,Dn(r/wi(i))*fi]}function Mt(n){return function(){return n}}function At(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function Nt(n,t){return[n>ui?n-li:n<-ui?n+li:n,t]}function bt(n,t,e){return(n%=li)?t||e?At(Pt(n),Rt(t,e)):Pt(n):t||e?Rt(t,e):Nt}function Ct(n){return function(t,e){return t+=n,[t>ui?t-li:t<-ui?t+li:t,e]}}function Pt(n){var t=Ct(n);return t.invert=Ct(-n),t}function Rt(n,t){function e(n,t){var e=gi(t),c=gi(n)*e,a=Ei(n)*e,l=Ei(t),f=l*r+c*i;return[vi(a*o-f*u,c*r-l*i),Dn(f*o+a*u)]}var r=gi(n),i=Ei(n),o=gi(t),u=Ei(t);return e.invert=function(n,t){var e=gi(t),c=gi(n)*e,a=Ei(n)*e,l=Ei(t),f=l*o-a*u;return[vi(a*o+l*u,c*r+f*i),Dn(f*r-c*i)]},e}function qt(n){function t(t){return t=n(t[0]*si,t[1]*si),t[0]*=fi,t[1]*=fi,t}return n=bt(n[0]*si,n[1]*si,n.length>2?n[2]*si:0),t.invert=function(t){return t=n.invert(t[0]*si,t[1]*si),t[0]*=fi,t[1]*=fi,t},t}function jt(n,t,e,r,i,o){if(e){var u=gi(t),c=Ei(t),a=r*e;null==i?(i=t+r*li,o=t-a/2):(i=Lt(u,i),o=Lt(u,o),(r>0?i<o:i>o)&&(i+=r*li));for(var l,f=i;r>0?f>o:f<o;f-=a)l=Jn([u,-c*gi(f),-c*Ei(f)]),n.point(l[0],l[1])}}function Lt(n,t){t=Kn(t),t[0]-=n,tt(t);var e=Tn(-t[1]);return((-t[2]<0?-e:e)+li-ii)%li}function zt(){function n(n,t){e.push(n=r(n,t)),n[0]*=fi,n[1]*=fi}function t(){var n=i.apply(this,arguments),t=o.apply(this,arguments)*si,a=u.apply(this,arguments)*si;return e=[],r=bt(-n[0]*si,-n[1]*si,0).invert,jt(c,t,a,1),n={type:"Polygon",coordinates:[e]},e=r=null,n}var e,r,i=Mt([0,0]),o=Mt(90),u=Mt(6),c={point:n};return t.center=function(n){return arguments.length?(i="function"==typeof n?n:Mt([+n[0],+n[1]]),t):i},t.radius=function(n){return arguments.length?(o="function"==typeof n?n:Mt(+n),t):o},t.precision=function(n){return arguments.length?(u="function"==typeof n?n:Mt(+n),t):u},t}function Ot(){var n,t=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){t.push(n=[])},lineEnd:Bn,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function Tt(n,t,e,r,i,o){var u,c=n[0],a=n[1],l=t[0],f=t[1],s=0,p=1,h=l-c,v=f-a;if(u=e-c,h||!(u>0)){if(u/=h,h<0){if(u<s)return;u<p&&(p=u)}else if(h>0){if(u>p)return;u>s&&(s=u)}if(u=i-c,h||!(u<0)){if(u/=h,h<0){if(u>p)return;u>s&&(s=u)}else if(h>0){if(u<s)return;u<p&&(p=u)}if(u=r-a,v||!(u>0)){if(u/=v,v<0){if(u<s)return;u<p&&(p=u)}else if(v>0){if(u>p)return;u>s&&(s=u)}if(u=o-a,v||!(u<0)){if(u/=v,v<0){if(u>p)return;u>s&&(s=u)}else if(v>0){if(u<s)return;u<p&&(p=u)}return s>0&&(n[0]=c+s*h,n[1]=a+s*v),p<1&&(t[0]=c+p*h,t[1]=a+p*v),!0}}}}}function Dt(n,t){return pi(n[0]-t[0])<ii&&pi(n[1]-t[1])<ii}function kt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Bt(n,t,e,r,i){var o,u,c=[],a=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],u=n[t];if(Dt(r,u)){for(i.lineStart(),o=0;o<t;++o)i.point((r=n[o])[0],r[1]);return void i.lineEnd()}c.push(e=new kt(r,n,null,!0)),a.push(e.o=new kt(r,null,e,!1)),c.push(e=new kt(u,n,null,!1)),a.push(e.o=new kt(u,null,e,!0))}}),c.length){for(a.sort(t),It(c),It(a),o=0,u=a.length;o<u;++o)a[o].e=e=!e;for(var l,f,s=c[0];;){for(var p=s,h=!0;p.v;)if((p=p.n)===s)return;l=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(o=0,u=l.length;o<u;++o)i.point((f=l[o])[0],f[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(h)for(l=p.p.z,o=l.length-1;o>=0;--o)i.point((f=l[o])[0],f[1]);else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,l=p.z,h=!h}while(!p.v);i.lineEnd()}}}function It(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Ut(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Gt(n){return 1===n.length&&(n=Ht(n)),{left:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}function Ht(n){return function(t,e){return Ut(n(t),e)}}function Vt(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((t-n)/e)),o=new Array(i);++r<i;)o[r]=n+r*e;return o}function Ft(n){for(var t,e,r,i=n.length,o=-1,u=0;++o<i;)u+=n[o].length;for(e=new Array(u);--i>=0;)for(r=n[i],t=r.length;--t>=0;)e[--u]=r[t];return e}function Xt(n,t,e,r){function i(i,o){return n<=i&&i<=e&&t<=o&&o<=r}function o(i,o,c,l){var f=0,s=0;if(null==i||(f=u(i,c))!==(s=u(o,c))||a(i,o)<0^c>0){do l.point(0===f||3===f?n:e,f>1?r:t);while((f=(f+c+4)%4)!==s)}else l.point(o[0],o[1])}function u(r,i){return pi(r[0]-n)<ii?i>0?0:3:pi(r[0]-e)<ii?i>0?2:1:pi(r[1]-t)<ii?i>0?1:0:i>0?3:2}function c(n,t){return a(n.x,t.x)}function a(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(u){function a(n,t){i(n,t)&&N.point(n,t)}function l(){for(var t=0,e=0,i=d.length;e<i;++e)for(var o,u,c=d[e],a=1,l=c.length,f=c[0],s=f[0],p=f[1];a<l;++a)o=s,u=p,f=c[a],s=f[0],p=f[1],u<=r?p>r&&(s-o)*(r-u)>(p-u)*(n-o)&&++t:p<=r&&(s-o)*(r-u)<(p-u)*(n-o)&&--t;return t}function f(){N=b,g=[],d=[],A=!0}function s(){var n=l(),t=A&&n,e=(g=Ft(g)).length;(t||e)&&(u.polygonStart(),t&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),e&&Bt(g,c,n,o,u),u.polygonEnd()),N=u,g=d=y=null}function p(){C.point=v,d&&d.push(y=[]),M=!0,x=!1,S=w=NaN}function h(){g&&(v(_,m),E&&x&&b.rejoin(),g.push(b.result())),C.point=a,x&&N.lineEnd()}function v(o,u){var c=i(o,u);if(d&&y.push([o,u]),M)_=o,m=u,E=c,M=!1,c&&(N.lineStart(),N.point(o,u));else if(c&&x)N.point(o,u);else{var a=[S=Math.max(Vi,Math.min(Hi,S)),w=Math.max(Vi,Math.min(Hi,w))],l=[o=Math.max(Vi,Math.min(Hi,o)),u=Math.max(Vi,Math.min(Hi,u))];Tt(a,l,n,t,e,r)?(x||(N.lineStart(),N.point(a[0],a[1])),N.point(l[0],l[1]),c||N.lineEnd(),A=!1):c&&(N.lineStart(),N.point(o,u),A=!1)}S=o,w=u,x=c}var g,d,y,_,m,E,S,w,x,M,A,N=u,b=Ot(),C={point:a,lineStart:p,lineEnd:h,polygonStart:f,polygonEnd:s};return C}}function Zt(){var n,t,e,r=0,i=0,o=960,u=500;return e={stream:function(e){return n&&t===e?n:n=Xt(r,i,o,u)(t=e)},extent:function(c){return arguments.length?(r=+c[0][0],i=+c[0][1],o=+c[1][0],u=+c[1][1],n=t=null,e):[[r,i],[o,u]]}}}function $t(){Xi.point=Kt,Xi.lineEnd=Jt}function Jt(){Xi.point=Xi.lineEnd=Bn}function Kt(n,t){n*=si,t*=si,ji=n,Li=Ei(t),zi=gi(t),Xi.point=Qt}function Qt(n,t){n*=si,t*=si;var e=Ei(t),r=gi(t),i=pi(n-ji),o=gi(i),u=Ei(i),c=r*u,a=zi*e-Li*r*o,l=Li*e+zi*r*o;Fi.add(vi(wi(c*c+a*a),l)),ji=n,Li=e,zi=r}function Wt(n){return Fi.reset(),Hn(n,Xi),+Fi}function Yt(n,t){return Zi[0]=n,Zi[1]=t,Wt($i)}function ne(n,t,e){var r=Vt(n,t-ii,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function te(n,t,e){var r=Vt(n,t-ii,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function ee(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return Vt(di(o/d)*d,i,d).map(p).concat(Vt(di(l/y)*y,a,y).map(h)).concat(Vt(di(r/v)*v,e,v).filter(function(n){return pi(n%d)>ii}).map(f)).concat(Vt(di(c/g)*g,u,g).filter(function(n){return pi(n%y)>ii}).map(s))}var e,r,i,o,u,c,a,l,f,s,p,h,v=10,g=v,d=90,y=360,_=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(h(a).slice(1),p(i).reverse().slice(1),h(l).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.extentMajor(t).extentMinor(t):n.extentMinor()},n.extentMajor=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],l=+t[0][1],a=+t[1][1],o>i&&(t=o,o=i,i=t),l>a&&(t=l,l=a,a=t),n.precision(_)):[[o,l],[i,a]]},n.extentMinor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],c=+t[0][1],u=+t[1][1],r>e&&(t=r,r=e,e=t),c>u&&(t=c,c=u,u=t),n.precision(_)):[[r,c],[e,u]]},n.step=function(t){return arguments.length?n.stepMajor(t).stepMinor(t):n.stepMinor()},n.stepMajor=function(t){return arguments.length?(d=+t[0],y=+t[1],n):[d,y]},n.stepMinor=function(t){return arguments.length?(v=+t[0],g=+t[1],n):[v,g]},n.precision=function(t){return arguments.length?(_=+t,f=ne(c,u,90),s=te(r,e,_),p=ne(l,a,90),h=te(o,i,_),n):_},n.extentMajor([[-180,-90+ii],[180,90-ii]]).extentMinor([[-180,-80-ii],[180,80+ii]])}function re(n,t){var e=n[0]*si,r=n[1]*si,i=t[0]*si,o=t[1]*si,u=gi(r),c=Ei(r),a=gi(o),l=Ei(o),f=u*gi(e),s=u*Ei(e),p=a*gi(i),h=a*Ei(i),v=2*Dn(wi(kn(o-r)+u*a*kn(i-e))),g=Ei(v),d=v?function(n){var t=Ei(n*=v)/g,e=Ei(v-n)/g,r=e*f+t*p,i=e*s+t*h,o=e*c+t*l;return[vi(i,r)*fi,vi(o,wi(r*r+i*i))*fi]}:function(){return[e*fi,r*fi]};return d.distance=v,d}function ie(n){return n}function oe(){Qi.point=ue}function ue(n,t){Qi.point=ce,Oi=Di=n,Ti=ki=t}function ce(n,t){Ki.add(ki*n-Di*t),Di=n,ki=t}function ae(){ce(Oi,Ti)}function le(n,t){n<Wi&&(Wi=n),n>no&&(no=n),t<Yi&&(Yi=t),t>to&&(to=t)}function fe(n,t){ro+=n,io+=t,++oo}function se(){po.point=pe}function pe(n,t){po.point=he,fe(Ui=n,Gi=t)}function he(n,t){var e=n-Ui,r=t-Gi,i=wi(e*e+r*r);uo+=i*(Ui+n)/2,co+=i*(Gi+t)/2,ao+=i,fe(Ui=n,Gi=t)}function ve(){po.point=fe}function ge(){po.point=ye}function de(){_e(Bi,Ii)}function ye(n,t){po.point=_e,fe(Bi=Ui=n,Ii=Gi=t)}function _e(n,t){var e=n-Ui,r=t-Gi,i=wi(e*e+r*r);uo+=i*(Ui+n)/2,co+=i*(Gi+t)/2,ao+=i,i=Gi*n-Ui*t,lo+=i*(Ui+n),fo+=i*(Gi+t),so+=3*i,fe(Ui=n,Gi=t)}function me(n){this._context=n}function Ee(){this._string=[]}function Se(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function we(){function n(n){return n&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),Hn(n,e(i))),i.result()}var t,e,r,i,o=4.5;return n.area=function(n){return Hn(n,e(Qi)),Qi.result()},n.bounds=function(n){return Hn(n,e(eo)),eo.result()},n.centroid=function(n){return Hn(n,e(po)),po.result()},n.projection=function(r){return arguments.length?(e=null==(t=r)?ie:r.stream,n):t},n.context=function(t){return arguments.length?(i=null==(r=t)?new Ee:new me(t),"function"!=typeof o&&i.pointRadius(o),n):r},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),n):o},n.projection(null).context(null)}function xe(n,t){var e=t[0],r=t[1],i=[Ei(e),-gi(e),0],o=0,u=0;ho.reset();for(var c=0,a=n.length;c<a;++c)if(f=(l=n[c]).length)for(var l,f,s=l[f-1],p=s[0],h=s[1]/2+ai,v=Ei(h),g=gi(h),d=0;d<f;++d,p=_,v=E,g=S,s=y){var y=l[d],_=y[0],m=y[1]/2+ai,E=Ei(m),S=gi(m),w=_-p,x=w>=0?1:-1,M=x*w,A=M>ui,N=v*E;if(ho.add(vi(N*x*Ei(M),g*S+N*gi(M))),o+=A?w+x*li:w,A^p>=e^_>=e){var b=Wn(Kn(s),Kn(y));tt(b);var C=Wn(i,b);tt(C);var P=(A^w>=0?-1:1)*Dn(C[2]);(r>P||r===P&&(b[0]||b[1]))&&(u+=A^w>=0?1:-1)}}return(o<-ii||o<ii&&ho<-ii)^1&u}function Me(n,t,e,r){return function(i,o){function u(t,e){var r=i(t,e);n(t=r[0],e=r[1])&&o.point(t,e)}function c(n,t){var e=i(n,t);d.point(e[0],e[1])}function a(){S.point=c,d.lineStart()}function l(){S.point=u,d.lineEnd()}function f(n,t){g.push([n,t]);var e=i(n,t);m.point(e[0],e[1])}function s(){m.lineStart(),g=[]}function p(){f(g[0][0],g[0][1]),m.lineEnd();var n,t,e,r,i=m.clean(),u=_.result(),c=u.length;if(g.pop(),h.push(g),g=null,c)if(1&i){if(e=u[0],(t=e.length-1)>0){for(E||(o.polygonStart(),E=!0),o.lineStart(),n=0;n<t;++n)o.point((r=e[n])[0],r[1]);o.lineEnd()}}else c>1&&2&i&&u.push(u.pop().concat(u.shift())),v.push(u.filter(Ae))}var h,v,g,d=t(o),y=i.invert(r[0],r[1]),_=Ot(),m=t(_),E=!1,S={point:u,lineStart:a,lineEnd:l,polygonStart:function(){S.point=f,S.lineStart=s,S.lineEnd=p,v=[],h=[]},polygonEnd:function(){S.point=u,S.lineStart=a,S.lineEnd=l,v=Ft(v);var n=xe(h,y);v.length?(E||(o.polygonStart(),E=!0),Bt(v,Ne,n,e,o)):n&&(E||(o.polygonStart(),E=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),E&&(o.polygonEnd(),E=!1),v=h=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return S}}function Ae(n){return n.length>1}function Ne(n,t){return((n=n.x)[0]<0?n[1]-ci-ii:ci-n[1])-((t=t.x)[0]<0?t[1]-ci-ii:ci-t[1])}function be(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(o,u){var c=o>0?ui:-ui,a=pi(o-e);pi(a-ui)<ii?(n.point(e,r=(r+u)/2>0?ci:-ci),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(c,r),n.point(o,r),t=0):i!==c&&a>=ui&&(pi(e-i)<ii&&(e-=i*ii),pi(o-c)<ii&&(o-=c*ii),r=Ce(e,r,o,u),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(c,r),t=0),n.point(e=o,r=u),i=c},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}function Ce(n,t,e,r){var i,o,u=Ei(n-e);return pi(u)>ii?hi((Ei(t)*(o=gi(r))*Ei(e)-Ei(r)*(i=gi(t))*Ei(n))/(i*o*u)):(t+r)/2}function Pe(n,t,e,r){var i;if(null==n)i=e*ci,r.point(-ui,i),r.point(0,i),r.point(ui,i),r.point(ui,0),r.point(ui,-i),r.point(0,-i),r.point(-ui,-i),r.point(-ui,0),r.point(-ui,i);else if(pi(n[0]-t[0])>ii){var o=n[0]<t[0]?ui:-ui;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Re(n,t){function e(e,r,i,o){jt(o,n,t,i,e,r)}function r(n,t){return gi(n)*gi(t)>c}function i(n){var t,e,i,c,f;return{lineStart:function(){c=i=!1,f=1},point:function(s,p){var h,v=[s,p],g=r(s,p),d=a?g?0:u(s,p):g?u(s+(s<0?ui:-ui),p):0;if(!t&&(c=i=g)&&n.lineStart(),g!==i&&(h=o(t,v),(Dt(t,h)||Dt(v,h))&&(v[0]+=ii,v[1]+=ii,g=r(v[0],v[1]))),g!==i)f=0,g?(n.lineStart(),h=o(v,t),n.point(h[0],h[1])):(h=o(t,v),n.point(h[0],h[1]),n.lineEnd()),t=h;else if(l&&t&&a^g){var y;d&e||!(y=o(v,t,!0))||(f=0,a?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!g||t&&Dt(t,v)||n.point(v[0],v[1]),t=v,i=g,e=d},lineEnd:function(){i&&n.lineEnd(),t=null},clean:function(){return f|(c&&i)<<1}}}function o(n,t,e){var r=Kn(n),i=Kn(t),o=[1,0,0],u=Wn(r,i),a=Qn(u,u),l=u[0],f=a-l*l;if(!f)return!e&&n;var s=c*a/f,p=-c*l/f,h=Wn(o,u),v=nt(o,s),g=nt(u,p);Yn(v,g);var d=h,y=Qn(v,d),_=Qn(d,d),m=y*y-_*(Qn(v,v)-1);if(!(m<0)){var E=wi(m),S=nt(d,(-y-E)/_);if(Yn(S,v),S=Jn(S),!e)return S;var w,x=n[0],M=t[0],A=n[1],N=t[1];M<x&&(w=x,x=M,M=w);var b=M-x,C=pi(b-ui)<ii,P=C||b<ii;if(!C&&N<A&&(w=A,A=N,N=w),P?C?A+N>0^S[1]<(pi(S[0]-x)<ii?A:N):A<=S[1]&&S[1]<=N:b>ui^(x<=S[0]&&S[0]<=M)){var R=nt(d,(-y+E)/_);return Yn(R,v),[S,Jn(R)]}}}function u(t,e){var r=a?n:ui-n,i=0;return t<-r?i|=1:t>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var c=gi(n),a=c>0,l=pi(c)>ii;return Me(r,i,e,a?[0,-n]:[-ui,n-ui])}function qe(n){return{stream:je(n)}}function je(n){function t(){}var e=t.prototype=Object.create(Le.prototype);for(var r in n)e[r]=n[r];return function(n){var e=new t;return e.stream=n,e}}function Le(){}function ze(n,t,e){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=o&&n.clipExtent(null),Hn(e,n.stream(eo));var u=eo.result(),c=Math.min(r/(u[1][0]-u[0][0]),i/(u[1][1]-u[0][1])),a=+t[0][0]+(r-c*(u[1][0]+u[0][0]))/2,l=+t[0][1]+(i-c*(u[1][1]+u[0][1]))/2;return null!=o&&n.clipExtent(o),n.scale(150*c).translate([a,l])}function Oe(n){return function(t,e){return ze(n,[[0,0],t],e)}}function Te(n){return function(t,e){return ze(n,t,e)}}function De(n,t){return+t?Be(n,t):ke(n)}function ke(n){return je({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function Be(n,t){function e(r,i,o,u,c,a,l,f,s,p,h,v,g,d){var y=l-r,_=f-i,m=y*y+_*_;if(m>4*t&&g--){var E=u+p,S=c+h,w=a+v,x=wi(E*E+S*S+w*w),M=Dn(w/=x),A=pi(pi(w)-1)<ii||pi(o-s)<ii?(o+s)/2:vi(S,E),N=n(A,M),b=N[0],C=N[1],P=b-r,R=C-i,q=_*P-y*R;(q*q/m>t||pi((y*P+_*R)/m-.5)>.3||u*p+c*h+a*v<yo)&&(e(r,i,o,u,c,a,b,C,A,E/=x,S/=x,w,g,d),d.point(b,C),e(b,C,A,E,S,w,l,f,s,p,h,v,g,d))}}return function(t){function r(e,r){e=n(e,r),t.point(e[0],e[1])}function i(){y=NaN,w.point=o,t.lineStart()}function o(r,i){var o=Kn([r,i]),u=n(r,i);e(y,_,d,m,E,S,y=u[0],_=u[1],d=r,m=o[0],E=o[1],S=o[2],go,t),t.point(y,_)}function u(){w.point=r,t.lineEnd()}function c(){i(),w.point=a,w.lineEnd=l}function a(n,t){o(f=n,t),s=y,p=_,h=m,v=E,g=S,w.point=o}function l(){e(y,_,d,m,E,S,s,p,f,h,v,g,go,t),w.lineEnd=u,u()}var f,s,p,h,v,g,d,y,_,m,E,S,w={point:r,lineStart:i,lineEnd:u,polygonStart:function(){t.polygonStart(),w.lineStart=c},polygonEnd:function(){t.polygonEnd(),w.lineStart=i}};return w}}function Ie(n){return Ue(function(){return n})()}function Ue(n){function t(n){return n=f(n[0]*si,n[1]*si),[n[0]*d+c,a-n[1]*d]}function e(n){return n=f.invert((n[0]-c)/d,(a-n[1])/d),n&&[n[0]*fi,n[1]*fi]}function r(n,t){return n=u(n,t),[n[0]*d+c,a-n[1]*d]}function i(){f=At(l=bt(S,w,x),u);var n=u(m,E);return c=y-n[0]*d,a=_+n[1]*d,o()}function o(){return v=g=null,t}var u,c,a,l,f,s,p,h,v,g,d=150,y=480,_=250,m=0,E=0,S=0,w=0,x=0,M=null,A=vo,N=null,b=ie,C=.5,P=De(r,C);return t.stream=function(n){return v&&g===n?v:v=_o(A(l,P(b(g=n))))},t.clipAngle=function(n){return arguments.length?(A=+n?Re(M=n*si,6*si):(M=null,vo),o()):M*fi},t.clipExtent=function(n){return arguments.length?(b=null==n?(N=s=p=h=null,ie):Xt(N=+n[0][0],s=+n[0][1],p=+n[1][0],h=+n[1][1]),o()):null==N?null:[[N,s],[p,h]]},t.scale=function(n){return arguments.length?(d=+n,i()):d},t.translate=function(n){return arguments.length?(y=+n[0],_=+n[1],i()):[y,_]},t.center=function(n){return arguments.length?(m=n[0]%360*si,E=n[1]%360*si,i()):[m*fi,E*fi]},t.rotate=function(n){return arguments.length?(S=n[0]%360*si,w=n[1]%360*si,x=n.length>2?n[2]%360*si:0,i()):[S*fi,w*fi,x*fi]},t.precision=function(n){return arguments.length?(P=De(r,C=n*n),o()):wi(C)},t.fitExtent=Te(t),t.fitSize=Oe(t),function(){return u=n.apply(this,arguments),t.invert=u.invert&&e,i()}}function Ge(n){var t=0,e=ui/3,r=Ue(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*si,e=n[1]*si):[t*fi,e*fi]},i}function He(n,t){function e(n,t){var e=wi(o-2*i*Ei(t))/i;return[e*Ei(n*=i),u-e*gi(n)]}var r=Ei(n),i=(r+Ei(t))/2,o=1+r*(2*i-r),u=wi(o)/i;return e.invert=function(n,t){var e=u-t;return[vi(n,e)/i,Dn((o-(n*n+e*e)*i*i)/(2*i))]},e}function Ve(){return Ge(He).scale(155.424).center([0,33.6442])}function Fe(){return Ve().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Xe(n){var t=n.length;return{point:function(e,r){for(var i=-1;++i<t;)n[i].point(e,r)},sphere:function(){for(var e=-1;++e<t;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<t;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<t;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<t;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<t;)n[e].polygonEnd()}}}function Ze(){
function n(n){var t=n[0],e=n[1];return c=null,i.point(t,e),c||(o.point(t,e),c)||(u.point(t,e),c)}function t(){return e=r=null,n}var e,r,i,o,u,c,a=Fe(),l=Ve().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=Ve().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(n,t){c=[n,t]}};return n.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?l:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:a).invert(n)},n.stream=function(n){return e&&r===n?e:e=Xe([a.stream(r=n),l.stream(n),f.stream(n)])},n.precision=function(n){return arguments.length?(a.precision(n),l.precision(n),f.precision(n),t()):a.precision()},n.scale=function(t){return arguments.length?(a.scale(t),l.scale(.35*t),f.scale(t),n.translate(a.translate())):a.scale()},n.translate=function(n){if(!arguments.length)return a.translate();var e=a.scale(),r=+n[0],c=+n[1];return i=a.translate(n).clipExtent([[r-.455*e,c-.238*e],[r+.455*e,c+.238*e]]).stream(s),o=l.translate([r-.307*e,c+.201*e]).clipExtent([[r-.425*e+ii,c+.12*e+ii],[r-.214*e-ii,c+.234*e-ii]]).stream(s),u=f.translate([r-.205*e,c+.212*e]).clipExtent([[r-.214*e+ii,c+.166*e+ii],[r-.115*e-ii,c+.234*e-ii]]).stream(s),t()},n.fitExtent=Te(n),n.fitSize=Oe(n),n.scale(1070)}function $e(n){return function(t,e){var r=gi(t),i=gi(e),o=n(r*i);return[o*i*Ei(t),o*Ei(e)]}}function Je(n){return function(t,e){var r=wi(t*t+e*e),i=n(r),o=Ei(i),u=gi(i);return[vi(t*o,r*u),Dn(r&&e*o/r)]}}function Ke(){return Ie(mo).scale(124.75).clipAngle(179.999)}function Qe(){return Ie(Eo).scale(79.4188).clipAngle(179.999)}function We(n,t){return[n,_i(xi((ci+t)/2))]}function Ye(){return nr(We).scale(961/li)}function nr(n){var t,e=Ie(n),r=e.scale,i=e.translate,o=e.clipExtent;return e.scale=function(n){return arguments.length?(r(n),t&&e.clipExtent(null),e):r()},e.translate=function(n){return arguments.length?(i(n),t&&e.clipExtent(null),e):i()},e.clipExtent=function(n){if(!arguments.length)return t?null:o();if(t=null==n){var u=ui*r(),c=i();n=[[c[0]-u,c[1]-u],[c[0]+u,c[1]+u]]}return o(n),e},e.clipExtent(null)}function tr(n){return xi((ci+n)/2)}function er(n,t){function e(n,t){o>0?t<-ci+ii&&(t=-ci+ii):t>ci-ii&&(t=ci-ii);var e=o/mi(tr(t),i);return[e*Ei(i*n),o-e*gi(i*n)]}var r=gi(n),i=n===t?Ei(n):_i(r/gi(t))/_i(tr(t)/tr(n)),o=r*mi(tr(n),i)/i;return i?(e.invert=function(n,t){var e=o-t,r=Si(i)*wi(n*n+e*e);return[vi(n,e)/i,2*hi(mi(o/r,1/i))-ci]},e):We}function rr(){return Ge(er).scale(109.5).parallels([30,30])}function ir(n,t){return[n,t]}function or(){return Ie(ir).scale(152.63)}function ur(n,t){function e(n,t){var e=o-t,r=i*n;return[e*Ei(r),o-e*gi(r)]}var r=gi(n),i=n===t?Ei(n):(r-gi(t))/(t-n),o=r/i+n;return pi(i)<ii?ir:(e.invert=function(n,t){var e=o-t;return[vi(n,e)/i,o-Si(i)*wi(n*n+e*e)]},e)}function cr(){return Ge(ur).scale(131.154).center([0,13.9389])}function ar(n,t){var e=gi(t),r=gi(n)*e;return[e*Ei(n)/r,Ei(t)/r]}function lr(){return Ie(ar).scale(144.049).clipAngle(60)}function fr(n,t){return[gi(t)*Ei(n),Ei(t)]}function sr(){return Ie(fr).scale(249.5).clipAngle(90+ii)}function pr(n,t){var e=gi(t),r=1+gi(n)*e;return[e*Ei(n)/r,Ei(t)/r]}function hr(){return Ie(pr).scale(250).clipAngle(142)}function vr(n,t){return[_i(xi((ci+t)/2)),-n]}function gr(){var n=nr(vr),t=n.center,e=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return arguments.length?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90]).scale(159.155)}var dr="http://www.w3.org/1999/xhtml",yr={svg:"http://www.w3.org/2000/svg",xhtml:dr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_r=function(n){return function(){return this.matches(n)}};if("undefined"!=typeof document){var mr=document.documentElement;if(!mr.matches){var Er=mr.webkitMatchesSelector||mr.msMatchesSelector||mr.mozMatchesSelector||mr.oMatchesSelector;_r=function(n){return function(){return Er.call(this,n)}}}}var Sr=_r,wr={};if(n.event=null,"undefined"!=typeof document){var xr=document.documentElement;"onmouseenter"in xr||(wr={mouseenter:"mouseover",mouseleave:"mouseout"})}var Mr="$";E.prototype={constructor:E,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}},W.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var Ar=[null];Pn.prototype=Rn.prototype={constructor:Pn,select:p,selectAll:v,filter:g,data:m,enter:w,exit:x,merge:M,order:A,sort:N,call:C,nodes:P,node:R,size:q,empty:j,each:L,attr:I,style:F,property:J,classed:on,text:ln,html:hn,raise:gn,lower:yn,append:Sn,remove:xn,datum:Mn,on:f,dispatch:Cn},zn.prototype={constructor:zn,reset:function(){this.s=this.t=0},add:function(n){On(ri,n,this.t),On(this,ri.s,this.s),this.s?this.t+=ri.t:this.s=ri.t},valueOf:function(){return this.s}};var Nr,br,Cr,Pr,Rr,qr,jr,Lr,zr,Or,Tr,Dr,kr,Br,Ir,Ur,Gr,Hr,Vr,Fr,Xr,Zr,$r,Jr,Kr,Qr,Wr,Yr,ni,ti,ei,ri=new zn,ii=1e-6,oi=1e-12,ui=Math.PI,ci=ui/2,ai=ui/4,li=2*ui,fi=180/ui,si=ui/180,pi=Math.abs,hi=Math.atan,vi=Math.atan2,gi=Math.cos,di=Math.ceil,yi=Math.exp,_i=Math.log,mi=Math.pow,Ei=Math.sin,Si=Math.sign||function(n){return n>0?1:n<0?-1:0},wi=Math.sqrt,xi=Math.tan,Mi={Feature:function(n,t){In(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)In(e[r].geometry,t)}},Ai={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){Un(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)Un(e[r],t,0)},Polygon:function(n,t){Gn(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)Gn(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)In(e[r],t)}},Ni=Ln(),bi=Ln(),Ci={point:Bn,lineStart:Bn,lineEnd:Bn,polygonStart:function(){Ni.reset(),Ci.lineStart=Vn,Ci.lineEnd=Fn},polygonEnd:function(){var n=+Ni;bi.add(n<0?li+n:n),this.lineStart=this.lineEnd=this.point=Bn},sphere:function(){bi.add(li)}},Pi=Ln(),Ri={point:et,lineStart:it,lineEnd:ot,polygonStart:function(){Ri.point=ut,Ri.lineStart=ct,Ri.lineEnd=at,Pi.reset(),Ci.polygonStart()},polygonEnd:function(){Ci.polygonEnd(),Ri.point=et,Ri.lineStart=it,Ri.lineEnd=ot,Ni<0?(qr=-(Lr=180),jr=-(zr=90)):Pi>ii?zr=90:Pi<-ii&&(jr=-90),Ir[0]=qr,Ir[1]=Lr}},qi={sphere:Bn,point:ht,lineStart:gt,lineEnd:_t,polygonStart:function(){qi.lineStart=mt,qi.lineEnd=Et},polygonEnd:function(){qi.lineStart=gt,qi.lineEnd=_t}};Nt.invert=Nt;var ji,Li,zi,Oi,Ti,Di,ki,Bi,Ii,Ui,Gi,Hi=(Gt(Ut),1e9),Vi=-Hi,Fi=Ln(),Xi={sphere:Bn,point:Bn,lineStart:$t,lineEnd:Bn,polygonStart:Bn,polygonEnd:Bn},Zi=[null,null],$i={type:"LineString",coordinates:Zi},Ji=Ln(),Ki=Ln(),Qi={point:Bn,lineStart:Bn,lineEnd:Bn,polygonStart:function(){Qi.lineStart=oe,Qi.lineEnd=ae},polygonEnd:function(){Qi.lineStart=Qi.lineEnd=Qi.point=Bn,Ji.add(pi(Ki)),Ki.reset()},result:function(){var n=Ji/2;return Ji.reset(),n}},Wi=1/0,Yi=Wi,no=-Wi,to=no,eo={point:le,lineStart:Bn,lineEnd:Bn,polygonStart:Bn,polygonEnd:Bn,result:function(){var n=[[Wi,Yi],[no,to]];return no=to=-(Yi=Wi=1/0),n}},ro=0,io=0,oo=0,uo=0,co=0,ao=0,lo=0,fo=0,so=0,po={point:fe,lineStart:se,lineEnd:ve,polygonStart:function(){po.lineStart=ge,po.lineEnd=de},polygonEnd:function(){po.point=fe,po.lineStart=se,po.lineEnd=ve},result:function(){var n=so?[lo/so,fo/so]:ao?[uo/ao,co/ao]:oo?[ro/oo,io/oo]:[NaN,NaN];return ro=io=oo=uo=co=ao=lo=fo=so=0,n}};me.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,li)}},result:Bn},Ee.prototype={_circle:Se(4.5),pointRadius:function(n){return this._circle=Se(n),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}}};var ho=Ln(),vo=Me(function(){return!0},be,Pe,[-ui,-ci]);Le.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var go=16,yo=gi(30*si),_o=je({point:function(n,t){this.stream.point(n*si,t*si)}}),mo=$e(function(n){return wi(2/(1+n))});mo.invert=Je(function(n){return 2*Dn(n/2)});var Eo=$e(function(n){return(n=Tn(n))&&n/Ei(n)});Eo.invert=Je(function(n){return n}),We.invert=function(n,t){return[n,2*hi(yi(t))-ci]},ir.invert=ir,ar.invert=Je(hi),fr.invert=Je(Dn),pr.invert=Je(function(n){return 2*hi(n)}),vr.invert=function(n,t){return[-t,2*hi(yi(n))-ci]},n.select=qn,n.selectAll=jn,n.geoArea=$n,n.geoBounds=pt,n.geoCentroid=xt,n.geoCircle=zt,n.geoClipExtent=Zt,n.geoDistance=Yt,n.geoGraticule=ee,n.geoInterpolate=re,n.geoLength=Wt,n.geoPath=we,n.geoAlbers=Fe,n.geoAlbersUsa=Ze,n.geoAzimuthalEqualArea=Ke,n.geoAzimuthalEqualAreaRaw=mo,n.geoAzimuthalEquidistant=Qe,n.geoAzimuthalEquidistantRaw=Eo,n.geoConicConformal=rr,n.geoConicConformalRaw=er,n.geoConicEqualArea=Ve,n.geoConicEqualAreaRaw=He,n.geoConicEquidistant=cr,n.geoConicEquidistantRaw=ur,n.geoEquirectangular=or,n.geoEquirectangularRaw=ir,n.geoGnomonic=lr,n.geoGnomonicRaw=ar,n.geoProjection=Ie,n.geoProjectionMutator=Ue,n.geoMercator=Ye,n.geoMercatorRaw=We,n.geoOrthographic=sr,n.geoOrthographicRaw=fr,n.geoStereographic=hr,n.geoStereographicRaw=pr,n.geoTransverseMercator=gr,n.geoTransverseMercatorRaw=vr,n.geoRotation=qt,n.geoStream=Hn,n.geoTransform=qe,Object.defineProperty(n,"__esModule",{value:!0})});